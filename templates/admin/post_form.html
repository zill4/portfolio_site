{% extends "base.html" %}

{% block title %}{% if post %}Edit Post{% else %}New Post{% endif %} | Admin{% endblock %}

{% block content %}
<h1>{% if post %}Edit Post{% else %}New Post{% endif %}</h1>

<form method="POST">
    <div>
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" value="{{ post.title if post else '' }}" required>
    </div>
    <div>
        <label for="content">Content:</label>
        <textarea id="content" name="content" rows="10" required>{{ post.content if post else '' }}</textarea>
    </div>
    <button type="submit" class="btn">{% if post %}Update{% else %}Create{% endif %} Post</button>
</form>

<a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
{% endblock %}

{% block scripts %}
<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
<script>
    tinymce.init({
        selector: '#content',
        plugins: 'advlist autolink lists link image charmap print preview hr anchor pagebreak',
        toolbar_mode: 'floating',
    });
</script>
{% endblock %}
